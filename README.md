# LeetCode Two Sum 裁员晴雨表监控系统 📊

## 项目简介

这是一个基于LeetCode Two Sum题目提交数据的热度监控系统，通过分析题目每日提交数量的变化，间接反映程序员求职市场的活跃度，作为"裁员晴雨表"的参考指标。

### 原理说明
- LeetCode Two Sum是最经典的入门算法题
- 当求职市场火热时，刷题人数会增加，导致题目提交量上升
- 通过监控每日新增提交数量的变化，可以推测市场活跃度
- 提交量激增可能意味着求职竞争加剧（裁员风险高）

## 功能特点

### 核心功能
- ✅ **自动采集**：每天00:00、08:00、16:00自动采集数据
- ✅ **历史记录**：所有数据保存在JSON文件中，可长期追踪
- ✅ **趋势图表**：自动生成可视化图表，直观显示变化趋势
- ✅ **信号预警**：根据提交量变化给出红/橙/绿三色预警

### 预警机制
- 🔥🔥🔥 **高危信号**（红色）：当日提交 > 平均值的1.5倍
- 🔥🔥 **预警信号**（橙色）：当日提交 > 平均值的1.2倍
- 👀 **正常波动**（绿色）：正常范围内波动
- ✅ **平稳信号**：当日提交低于平均值

## 安装部署

### 环境要求
- Python 3.6+
- pip包管理工具

### 安装依赖
```bash
pip install requests matplotlib
```

### 下载代码
将代码保存为 `two_sum_monitor.py`

## 使用方法

### 直接运行
```bash
python two_sum_monitor.py
```

### 后台运行（Linux/Mac）
```bash
nohup python two_sum_monitor.py > monitor.log 2>&1 &
```

### Windows后台运行
```bash
pythonw.exe two_sum_monitor.py
```

### 停止程序
按 `Ctrl+C` 即可优雅停止，数据会自动保存

## 输出文件

### 1. 数据文件
- **`two_sum_history.json`**：所有历史数据
  ```json
    {
      "2026-02-24": {
        "total_submission": 9123456,
        "total_accepted": 3456789,
        "ac_rate": 0.3788903020960478,
        "likes": 45678,
        "dislikes": 1345,
        "collection_time": "16:21:57",
        "is_demo": true
      }
    }
  ```

### 2. 图表文件
- **`two_sum_history_YYYYMMDD.png`**：每日更新的图表
- **`two_sum_history_latest.png`**：最新图表的固定文件名

## 图表解读

生成的图表包含两个子图：

### 上图：累计提交/通过趋势
- 蓝色线：总提交数
- 绿色线：通过数
- 反映题目的整体热度增长

### 下图：每日新增提交趋势（核心晴雨表）
- 红色柱：高危信号（>1.5倍平均值）
- 橙色柱：预警信号（>1.2倍平均值）
- 绿色柱：正常波动
- 虚线：平均值线、关注线、高危线

## 数据采集说明

### 采集时间
- 每天 **00:00**（凌晨）
- 每天 **08:00**（早上）
- 每天 **16:00**（下午）

### 采集内容
- 总提交数
- 通过数
- 通过率
- 点赞/点踩数
- 采集时间戳

### 数据计算
- 每日新增提交数 = 今日总提交 - 昨日总提交
- 近7天平均值 = 过去7天新增提交的平均值
- 预警阈值 = 平均值 × 1.2（关注线）和 1.5（高危线）

## 常见问题

### Q1: 为什么选择Two Sum这道题？
Two Sum是最经典的入门题，几乎每个刷题的程序员都会做，样本量大，能较好地反映整体市场活跃度。

### Q2: 数据准确吗？
数据来自LeetCode官方API，但LeetCode不提供历史提交记录，所以需要自己持续采集才能获得趋势数据。

### Q3: 出现中文字体警告怎么办？
程序已自动适配各操作系统字体。如果仍有警告，可以手动安装中文字体：
- **Linux**: `sudo apt-get install fonts-wqy-zenhei`
- **Windows/Mac**: 系统通常自带中文字体

### Q4: 可以修改采集频率吗？
可以修改代码中的 `collect_times` 列表：
```python
collect_times = ["00:00", "08:00", "16:00"]  # 修改这里
```

### Q5: 数据文件太大怎么办？
JSON文件大小与采集天数成正比，一年大约几百KB，不用担心。

## 项目结构
```
.
├── two_sum_monitor.py      # 主程序
├── two_sum_history.json     # 历史数据（自动生成）
├── two_sum_history_latest.png # 最新图表（自动生成）
├── two_sum_history_*.png    # 历史图表（自动生成）
└── README.md                # 说明文档
```

## 注意事项

1. **网络要求**：需要能够访问LeetCode API
2. **长期运行**：建议部署在服务器上持续运行
3. **数据积累**：至少需要一周数据才能看出趋势
4. **仅供参考**：本工具仅作参考，不能作为决策的唯一依据

## 更新日志

### v1.0 (2024-01-15)
- 初始版本发布
- 实现基本的数据采集功能
- 支持定时采集和图表生成
- 添加红橙绿三色预警机制

## 许可证

MIT License

## 免责声明

本工具仅供学习参考，数据解读可能存在偏差，请理性看待。裁员决策应考虑多方面因素，切勿仅凭本工具数据做出判断。

---

**如果觉得这个工具有用，欢迎Star！** ⭐

**遇到问题？** 提交Issue，我们会尽快回复